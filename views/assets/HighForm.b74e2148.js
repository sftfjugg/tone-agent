import{u as C,R as F,j as a,a as d,c as n,t as f,C as T,b as A,an as E,ao as w,s as k,m as B}from"./index.da405ea2.js";import{S as m,B as p}from"./index.cba91f47.js";import{F as u,I as h,R as j,C as P,T as g}from"./index.b127e621.js";const q=()=>{const{config:i,tab:D}=C(),{tsn:b}=i,[c]=u.useForm();F.useEffect(()=>{c.setFieldsValue(i)},[i,D]);const[e,y]=F.useState(void 0),v=()=>{c.validateFields(["tone_proxy"]).then(async r=>{const{ip:s}=await E(),{code:t,msg:l}=await w({...r,ip:s,tsn:b});y({code:t,msg:l})}).catch(r=>{console.log(r)})},x=()=>{c.validateFields().then(async r=>{const{code:s}=await k(Object.assign(i,r));s===200&&B.success("\u914D\u7F6E\u4FDD\u5B58\u6210\u529F\uFF01")})};return a("div",{className:"w-[572px] mx-auto",children:d(u,{form:c,colon:!1,labelCol:{span:5},requiredMark:!1,css:n`
                        .ant-input-clear-icon,
                        .ant-form-item-feedback-icon { display: inline-flex;};
                    `,children:[a(u.Item,{label:"T-One\u57DF\u540D",name:"tone_proxy",hasFeedback:!0,validateTrigger:["onBlur"],rules:[{required:!0,message:"T-One\u57DF\u540D\u57DF\u540D\u4E0D\u80FD\u4E3A\u7A7A"},{async validator(r,s,t){if(!s)return Promise.reject();const{code:l,msg:o}=await f({url:s});return l!==200?Promise.reject(o):Promise.resolve()}}],className:"!mb-3",children:a(h,{allowClear:!0,placeholder:"\u8BF7\u8F93\u5165T-One\u57DF\u540D"})}),a(u.Item,{label:"TestLib\u57DF\u540D",name:"testlib_proxy",hasFeedback:!0,className:e?"!mb-0":"!mb-3",validateTrigger:["onBlur"],rules:[{required:!0,message:"TestLib\u57DF\u540D\u4E0D\u80FD\u4E3A\u7A7A"},{async validator(r,s,t){if(!s)return Promise.reject();const{code:l,msg:o}=await f({url:s});return l!==200?Promise.reject(o):Promise.resolve()}}],children:a(h,{allowClear:!0,placeholder:"\u8BF7\u8F93\u5165TestLib\u57DF\u540D"})}),e&&a(j,{children:a(P,{span:18,offset:5,children:a(m,{direction:"vertical",size:0,children:d(m,{align:"center",css:n`height: 32px;`,children:[(e==null?void 0:e.code)===200?a(T,{css:n`display: inline-flex;svg{ fill: #52c41a;}`}):a(A,{css:n`display: inline-flex;svg{ fill: #ff4d4f;}`}),a(g.Text,{style:(e==null?void 0:e.code)===200?{color:"rgba(0,0,0,.65)"}:void 0,type:(e==null?void 0:e.code)!==200?"danger":void 0,children:(e==null?void 0:e.code)===200?"\u673A\u5668\u6CE8\u518C\u6210\u529F":(e==null?void 0:e.msg)||"\u673A\u5668\u6CE8\u518C\u5931\u8D25"}),a(g.Text,{style:{color:"rgba(0,0,0,.65)"},children:"\u673A\u5668\u6CE8\u518C\u6210\u529F"})]})})})}),a(u.Item,{label:" ",children:d(m,{children:[a(p,{type:"primary",onClick:x,children:"\u4FDD\u5B58\u914D\u7F6E"}),a(p,{type:"primary",className:"w-full",onClick:v,children:"\u6CE8\u518C\u673A\u5668"})]})})]})})};export{q as default};
